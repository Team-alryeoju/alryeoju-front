{"ast":null,"code":"var _jsxFileName = \"/Users/chaeyerin/myProject/\\u110C\\u1169\\u11AF\\u110B\\u1165\\u11B8 \\u1111\\u1173\\u1105\\u1169\\u110C\\u1166\\u11A8\\u1110\\u1173/project/my_alryeoju_front/alryeoju-front/src/Components/ProductSlide.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useRef, useEffect } from \"react\";\nimport dummySool from \"../static/dummyData\";\nimport ProductCard from \"./ProductCard\";\nimport SlidePagination from \"./SlidePagination\";\nimport './ProductSlide.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst ProductSlide = () => {\n  _s();\n\n  // 카드 + margin 값 -> 220px\n  // css 가 변경되면 값도 변경되어야 함!\n  const cardSize = 220; // product-slide__wrapper의 width를 가져오기 위해 useRef 사용한다.\n\n  const ref = useRef(); // 페이지 당 들어갈 카드 수 limit (state)\n\n  const [limit, setLimit] = useState(3); // 현재 페이지 번호 page (state)\n\n  const [page, setPage] = useState(1); // 현재 페이지의 첫번째 요소의 index 구하기\n\n  let offset = (page - 1) * limit; // 전체 페이지 계산 : 전체 데이터의 개수를 페이지 당 표시할 개수로 나눈다.\n\n  const numPage = Math.ceil(dummySool.length / limit);\n\n  const changeWidth = () => {\n    let newWidth = ref.current.clientWidth;\n    setPage(1);\n    if (newWidth <= cardSize + 1) setLimit(1);else if (newWidth <= cardSize * 2 + 1) setLimit(2);else setLimit(3); // if(newWidth <= cardSize + 110) setLimit(1);\n    // else if(newWidth > cardSize + 110 && newWidth <= cardSize * 2 + 160) setLimit(2);\n    // else setLimit(3);\n    // if(newWidth > cardSize * 3) setLimit(3);\n    // else if(newWidth > cardSize * 2) setLimit(2);\n    // else setLimit(1);\n  };\n\n  useEffect(() => {\n    changeWidth();\n  }, []);\n  useEffect(() => {\n    window.addEventListener(\"resize\", changeWidth);\n  }, []);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"product-slide col-center\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"product-slide__main row-center\",\n      children: [\"=\", /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"product-slide__wrapper row\",\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => setPage(page - 1),\n          disabled: page === 1,\n          children: \"left\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 57,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n          className: \"product-slide__content row\",\n          ref: ref,\n          children: dummySool.map(sool => /*#__PURE__*/_jsxDEV(\"li\", {\n            children: /*#__PURE__*/_jsxDEV(ProductCard, {\n              sool: sool\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 60,\n              columnNumber: 68\n            }, this)\n          }, sool.id, false, {\n            fileName: _jsxFileName,\n            lineNumber: 60,\n            columnNumber: 50\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 59,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => setPage(page + 1),\n          disabled: page === numPage,\n          children: \"right\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 63,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 55,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(SlidePagination, {\n      numPage: numPage,\n      page: page,\n      setPage: setPage\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 53,\n    columnNumber: 9\n  }, this);\n};\n\n_s(ProductSlide, \"035CR4S+8NrteD6ey8QzH3X5S3c=\");\n\n_c = ProductSlide;\nexport default ProductSlide;\n\nvar _c;\n\n$RefreshReg$(_c, \"ProductSlide\");","map":{"version":3,"names":["React","useState","useRef","useEffect","dummySool","ProductCard","SlidePagination","ProductSlide","cardSize","ref","limit","setLimit","page","setPage","offset","numPage","Math","ceil","length","changeWidth","newWidth","current","clientWidth","window","addEventListener","map","sool","id"],"sources":["/Users/chaeyerin/myProject/졸업 프로젝트/project/my_alryeoju_front/alryeoju-front/src/Components/ProductSlide.js"],"sourcesContent":["import React, { useState, useRef, useEffect } from \"react\";\n\nimport dummySool from \"../static/dummyData\";\nimport ProductCard from \"./ProductCard\";\nimport SlidePagination from \"./SlidePagination\"\nimport './ProductSlide.css'\n\nconst ProductSlide = () => {\n    // 카드 + margin 값 -> 220px\n    // css 가 변경되면 값도 변경되어야 함!\n    const cardSize = 220;\n\n    // product-slide__wrapper의 width를 가져오기 위해 useRef 사용한다.\n    const ref = useRef()\n\n    // 페이지 당 들어갈 카드 수 limit (state)\n    const [limit, setLimit] = useState(3);\n\n    // 현재 페이지 번호 page (state)\n    const [page, setPage] = useState(1);\n\n    // 현재 페이지의 첫번째 요소의 index 구하기\n    let offset = (page - 1) * limit; \n\n    // 전체 페이지 계산 : 전체 데이터의 개수를 페이지 당 표시할 개수로 나눈다.\n    const numPage = Math.ceil(dummySool.length / limit)\n\n    const changeWidth = () => {\n        let newWidth = ref.current.clientWidth;\n        \n        setPage(1);\n\n        if(newWidth <= cardSize + 1 ) setLimit(1);\n        else if(newWidth <= cardSize * 2 + 1) setLimit(2);\n        else setLimit(3);\n        // if(newWidth <= cardSize + 110) setLimit(1);\n        // else if(newWidth > cardSize + 110 && newWidth <= cardSize * 2 + 160) setLimit(2);\n        // else setLimit(3);\n        // if(newWidth > cardSize * 3) setLimit(3);\n        // else if(newWidth > cardSize * 2) setLimit(2);\n        // else setLimit(1);\n    }\n\n    useEffect(() => {\n        changeWidth();\n    }, [])\n\n    useEffect(() => {\n        window.addEventListener(\"resize\", changeWidth)\n    }, [])\n\n    return (\n        <div className=\"product-slide col-center\">\n            <div className=\"product-slide__main row-center\">=\n                <div className=\"product-slide__wrapper row\">\n                    {/* 이전 페이지 이동 */}\n                    <button onClick={() => setPage(page - 1)} disabled={page === 1}>left</button>\n                    {/* 페이지 별로 slice 해서 보여준다 */}\n                    <ul className=\"product-slide__content row\" ref={ref}>\n                        {dummySool.map((sool) => <li key={sool.id}><ProductCard sool={sool}/></li>)}\n                    </ul>\n                    {/* 다음 페이지 이동 */}\n                    <button onClick={() => setPage(page + 1)} disabled={page === numPage}>right</button>\n                </div>\n            </div>\n            <SlidePagination \n                numPage={numPage}\n                page={page}\n                setPage={setPage}\n            />\n        </div>\n    )\n}\n\nexport default ProductSlide"],"mappings":";;;AAAA,OAAOA,KAAP,IAAgBC,QAAhB,EAA0BC,MAA1B,EAAkCC,SAAlC,QAAmD,OAAnD;AAEA,OAAOC,SAAP,MAAsB,qBAAtB;AACA,OAAOC,WAAP,MAAwB,eAAxB;AACA,OAAOC,eAAP,MAA4B,mBAA5B;AACA,OAAO,oBAAP;;;AAEA,MAAMC,YAAY,GAAG,MAAM;EAAA;;EACvB;EACA;EACA,MAAMC,QAAQ,GAAG,GAAjB,CAHuB,CAKvB;;EACA,MAAMC,GAAG,GAAGP,MAAM,EAAlB,CANuB,CAQvB;;EACA,MAAM,CAACQ,KAAD,EAAQC,QAAR,IAAoBV,QAAQ,CAAC,CAAD,CAAlC,CATuB,CAWvB;;EACA,MAAM,CAACW,IAAD,EAAOC,OAAP,IAAkBZ,QAAQ,CAAC,CAAD,CAAhC,CAZuB,CAcvB;;EACA,IAAIa,MAAM,GAAG,CAACF,IAAI,GAAG,CAAR,IAAaF,KAA1B,CAfuB,CAiBvB;;EACA,MAAMK,OAAO,GAAGC,IAAI,CAACC,IAAL,CAAUb,SAAS,CAACc,MAAV,GAAmBR,KAA7B,CAAhB;;EAEA,MAAMS,WAAW,GAAG,MAAM;IACtB,IAAIC,QAAQ,GAAGX,GAAG,CAACY,OAAJ,CAAYC,WAA3B;IAEAT,OAAO,CAAC,CAAD,CAAP;IAEA,IAAGO,QAAQ,IAAIZ,QAAQ,GAAG,CAA1B,EAA8BG,QAAQ,CAAC,CAAD,CAAR,CAA9B,KACK,IAAGS,QAAQ,IAAIZ,QAAQ,GAAG,CAAX,GAAe,CAA9B,EAAiCG,QAAQ,CAAC,CAAD,CAAR,CAAjC,KACAA,QAAQ,CAAC,CAAD,CAAR,CAPiB,CAQtB;IACA;IACA;IACA;IACA;IACA;EACH,CAdD;;EAgBAR,SAAS,CAAC,MAAM;IACZgB,WAAW;EACd,CAFQ,EAEN,EAFM,CAAT;EAIAhB,SAAS,CAAC,MAAM;IACZoB,MAAM,CAACC,gBAAP,CAAwB,QAAxB,EAAkCL,WAAlC;EACH,CAFQ,EAEN,EAFM,CAAT;EAIA,oBACI;IAAK,SAAS,EAAC,0BAAf;IAAA,wBACI;MAAK,SAAS,EAAC,gCAAf;MAAA,6BACI;QAAK,SAAS,EAAC,4BAAf;QAAA,wBAEI;UAAQ,OAAO,EAAE,MAAMN,OAAO,CAACD,IAAI,GAAG,CAAR,CAA9B;UAA0C,QAAQ,EAAEA,IAAI,KAAK,CAA7D;UAAA;QAAA;UAAA;UAAA;UAAA;QAAA,QAFJ,eAII;UAAI,SAAS,EAAC,4BAAd;UAA2C,GAAG,EAAEH,GAAhD;UAAA,UACKL,SAAS,CAACqB,GAAV,CAAeC,IAAD,iBAAU;YAAA,uBAAkB,QAAC,WAAD;cAAa,IAAI,EAAEA;YAAnB;cAAA;cAAA;cAAA;YAAA;UAAlB,GAASA,IAAI,CAACC,EAAd;YAAA;YAAA;YAAA;UAAA,QAAxB;QADL;UAAA;UAAA;UAAA;QAAA,QAJJ,eAQI;UAAQ,OAAO,EAAE,MAAMd,OAAO,CAACD,IAAI,GAAG,CAAR,CAA9B;UAA0C,QAAQ,EAAEA,IAAI,KAAKG,OAA7D;UAAA;QAAA;UAAA;UAAA;UAAA;QAAA,QARJ;MAAA;QAAA;QAAA;QAAA;MAAA,QADJ;IAAA;MAAA;MAAA;MAAA;IAAA,QADJ,eAaI,QAAC,eAAD;MACI,OAAO,EAAEA,OADb;MAEI,IAAI,EAAEH,IAFV;MAGI,OAAO,EAAEC;IAHb;MAAA;MAAA;MAAA;IAAA,QAbJ;EAAA;IAAA;IAAA;IAAA;EAAA,QADJ;AAqBH,CAjED;;GAAMN,Y;;KAAAA,Y;AAmEN,eAAeA,YAAf"},"metadata":{},"sourceType":"module"}